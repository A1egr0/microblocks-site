<html>
    <head>
        <meta charset="UTF-8">
        <title>MicroBlocks: Small, Fast, Human Friendly</title>
        <meta name="description" content="MicroBlocks is a dynamic, blocks-based language that runs right inside microcontrollers">
        <meta name="author" content="Bernat Romagosa">
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118134778-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-118134778-1');
        </script>
    </head>
    <body>
        <div id="flowers"></div>
        <header>
            <a href="#" class="logo"><img src="logo.png"/></a>
            <nav class="menu">
                <a href="#intro">Introduction</a>
                <a href="#examples">Examples</a>
                <a href="#download">Download</a>
                <a href="#usage">Usage</a>
                <a href="#source">Source</a>
                <a href="#devices">Supported Devices</a>
                <a href="#techspecs">Technical Details</a>
                <a href="#credits">Credits</a>
                <a href="#collaboration">Collaboration</a>
                <a href="#contact">Contact</a>
            </nav>
        </header>
        <img id="flying-bugs" src="flying-bugs.png"/>
        <div id="wrapper">
<h1 id="intro">Introduction</h1>
<p><span>
    MicroBlocks is a new programming language inspired by <a href="https://scratch.mit.edu" target="_blank">Scratch</a> that can run right inside microcontroller boards such as the <a href="https://microbit.org" target="_blank">micro:bit</a>, the <a href="http://www.nodemcu.com/index_en.html" target="_blank">NodeMCU</a> and many <a href="https://arduino.cc" target="_blank">Arduino</a> boards.
</span></p>
<p><span>
    The MicroBlocks system allows for dynamic, parallel and interactive programming, just like in <a href="https://scratch.mit.edu" target="_blank">Scratch</a>, but with the twist of having your projects run autonomously inside the board without being tethered to a computer, thus offering the flexibility and liveness of tethered blocks programming, but without giving up the real-world applications of low level microcontroller programming.
</span></p>
<p><span>
    In other words, MicroBlocks lets you program your boards exactly like you would in <a href="http://snap4arduino.rocks" target="_blank">Snap4Arduino</a>, <a href="http://s4a.cat" target="_blank">S4A</a> or the <a href="https://khanning.github.io/scratch-arduino-extension/" target="_blank">Arduino extension</a> for <a href="https://scratch.mit.edu" target="_blank">Scratch</a>, and when you are happy with your program you can just unplug the board from your computer and everything will keep running as if by magic!
</span></p>
<p><span>
    With MicroBlocks, you can build your own "real world" digital instruments, interactive jewelry, electronic games and measuring devices, all by using blocks.
</span></p>
<h1 id="examples">Examples</h1>
<p><span></span></p>
<ul class="flex videos">
    <li>
        <div class="youtube" data-embed="CqfFjn_kMc4"><div class="play-button"></div></div>
        <h6>An electronic die</h6>
    </li>
    <li>
        <div class="youtube" data-embed="gPKXRC7CYu8"><div class="play-button"></div></div>
        <h6>A square wave synthesizer</h6>
    </li>
    <li>
        <div class="youtube" data-embed="fstO8b7i4pw"><div class="play-button"></div></div>
        <h6>An animation with speed control</h6>
    </li>
    <li>
        <div class="youtube" data-embed="9mPrWXqf5nE"><div class="play-button"></div></div>
        <h6>A bubble level</h6>
    </li>
    <li>
        <div class="youtube" data-embed="GiGiRHgWnKM"><div class="play-button"></div></div>
        <h6>A rock-paper-scissors game</h6>
    </li>
    <li>
        <div class="youtube" data-embed="xDQgpxCZkn4"><div class="play-button"></div></div>
        <h6>A digital music box</h6>
    </li>
</ul>
<script>
var videos = document.querySelectorAll('.youtube');
for (var i = 0; i < videos.length; i++) { 
    var thumb = 'https://img.youtube.com/vi/'+ videos[i].dataset.embed +'/sddefault.jpg',
        image = new Image();

    image.src = thumb;
    image.addEventListener('load', function() { videos[i].appendChild(image); }(i));

    videos[i].addEventListener('click', function() {
        var iframe = document.createElement('iframe');
        iframe.setAttribute('frameborder', '0');
        iframe.setAttribute('allowfullscreen', '');
        iframe.setAttribute('src', 'https://www.youtube.com/embed/'+ this.dataset.embed +'?rel=0&showinfo=0&autoplay=1');
        this.innerHTML = '';
        this.appendChild(iframe);
    });
}
</script>
<h1 id="download">Download</h1>
<p><span><a href="http://gpblocks.org/mb/MicroBlocks.zip" target="_blank">Click here</a> to download the preliminary standalone microBlocks IDE. This package includes binaries for MacOSX, GNU/Linux and MS Windows.</span></p>
<p><span>Please take in account that microBlocks is still pre-alpha software, so stay alert for bugs and come back often to check for new versions.</span></p>
<p><span>There is a Snap<em>!</em> IDE also in the works, but it is not yet public. Stay tuned.</span></p>
<h1 id="usage">Usage</h1>
<h2>Installation</h2>
<h2>Connecting to the Board</h2>
<h2>Running Your First Program</h2>
<h1 id="source">Source</h1>
<p><span>You can find the source code for the MicroBlocks VM, MicroBlocks standalone IDE and Websockets to serial connector in our <a href="https://bitbucket.org/john_maloney/smallvm">BitBucket repository</a>.</span></p>
<p><span>The Snap<em>!</em> version of the MicroBlocks IDE can be found in this other <a href="https://bitbucket.org/bromagosa/snap-ublocks/">BitBucket repository</a></span>.</p>
<h1 id="devices">Supported Devices</h1>
<h2>Technical Requirements</h2>
<p><span>The MicroBlocks virtual machine is designed for 32 bit microcontrollers. It requires at least 8Kb or RAM and takes over around 30Kb of flash memory.</span></p>
<h2>MicroBlocks Capable Boards</h2>
<p><span>The following boards are officially supported by the MicroBlocks system:</span></p>
<ul class="list">
    <li><a href="http://microbit.org">Micro:Bit</a></li>
    <li><a href="https://www.calliope.cc">Calliope</a></li>
    <li><a href="https://learn.adafruit.com/adafruit-circuit-playground-express">Circuit Playground Express</a></li>
    <li><a href="https://store.arduino.cc/arduino-due">Arduino Due</a></li>
    <li><a href="https://store.arduino.cc/arduino-mkrzero">Arduino MKR Zero</a></li>
    <li><a href="https://store.arduino.cc/genuino-zero">Arduino Zero</a></li>
</ul>
<p><span>The following boards are supported by the MicroBlocks system but present some limitations or problems:</span></p>
<ul class="list">
    <li><a href="http://www.nodemcu.com/index_en.html">NodeMCU</a> <span class="issue">no persistence yet</span></li>
    <li><a href="https://www.raspberrypi.org/products/raspberry-pi-zero/">Raspberry Pi Zero W</a> <span class="issue">no persistence yet</span></li>
    <li><a href="https://store.arduino.cc/arduino-primo">Arduino Primo</a> <span class="issue">retired by Arduino</span></li>
    <li><a href="https://store.arduino.cc/arduino-m0">Arduino M0</a> <span class="issue">retired by Arduino</span></li>
</ul>
<h1 id="techspecs">Technical Details</h1>
<h2>The MicroBlocks Virtual Machine</h2>
<p><span>MicroBlocks code is executed by a simple interpreter or <em>virtual machine</em> (VM) running on the microcontroller board. The instructions for this virtual machine are 32-bits consisting of an 8-bit operation (opcode) and a 24-bit operand:</p></span>

<pre>
&lt;opcode (8-bits)&gt;&lt;operand (24 bits)&gt;
</pre>

<p><span>The opcode tells the virtual machine what to do. The operand is used to in different ways by different opcodes. For example, it can be used to encode constant values or jump offsets. Some opcodes don't use the operand at all, but both the interpreter and the compiler are simplified by using the same instruction format for all opcodes.</p></span>

<p><span>The interpreter is a stack machine. To execute a given opcode, its arguments (i.e. the values of any parameters) are first pushed onto the stack, then the code for the opcode is run. That code pops any arguments off the stack and, optionally, pushes a return value onto the stack.</p></span>

<p><span>For example, the instructions for <em>"set user LED &lt;true&gt;"</em> are:</p></span>

<pre>
pushImmediate true		// push the boolean value 'true'
setLEDOp			// pop 'true' off the stack and set the state of the user LED to it
</pre>

<p><span>The instructions for <em>"set user LED (tilt-x &lt; 10)"</em>  are:</p></span>

<pre>
mbTiltX				// pushes the value of the tilt X sensor
pushImmediate 10		// pushes the number 10
greaterThan			// remove the two arguments and pushes true if tilt-x is less than 10
setLEDOp			// pop a boolean value and and set the state of the user LED to it
</pre>

<h3>Tasks</h3>

<p><span>MicroBlocks appears to run many scripts at the same time, but that is actually an illusion. The virtual machine actually does a few instructions of one script, then a few instructions of the next script, and so on. It really only executes one script at a time, but it switches between those scripts (or "tasks") so quickly that they appear to be running simultaneously.</p></span>

<p><span>Unlike many programming languages, MicroBlocks can only switch to the next task at certain well-defined points in the code. Namely, tasks switch occur at the end loops or at an instruction that explicitly waits, such as "wait 10 milliseconds". This avoids many of concurrency issues (or "race conditions") one encounters in other languages. It also means advanced users can implement their own higher-level concurrency mechanisms (e.g. locks, semaphores, or monitors) in MicroBlocks if necessary.</p></span>

<p><span>In addition to running user scripts, the MicroBlocks virtual machine handles a few system tasks between task switches. For example, it checks for incoming commands from the programming environment (when it is tethered). It may also do system tasks for specific platforms. For example, on the BBC micro:bit it must periodically update the 5x5 LED matrix.</p></span>

<h2>The Standalone IDE</h2>
<p><span></span></p>
<!--
<h2>The MicroBlocks connector</h2>
<p><span></span></p>
<h2>The Snap<em>!</em> IDE</h2>
<p><span></span></p>
--!>
<h1 id="credits">Credits</h1>
<p><span>MicroBlocks is a project by <a href="https://harc.ycr.org/member/john_maloney/" target="_blank">John Maloney</a>, <a href="https://github.com/jmoenig" target="_blank">Jens Mönig</a> and <a href="http://romagosa.work" target="_blank">Bernat Romagosa</a>.</span></p>
<p><span>The MicroBlocks bunny logo was designed by <a href="http://hrum-design.ru" target="_blank">Constantine Rotkevich</a>.</span></p>
<h1 id="collaboration">Collaboration</h1>
<p><span>MicroBlocks is currently collaborating with the following organizations, projects and companies:</span></p>
<ul class="flex">
    <li><a href="http://gpblocks.org" target="_blank"><img class="logo" src="GPLogo260.png"/></a></li>
    <li><a href="https://snap.berkeley.edu" target="_blank"><img class="logo" src="snap-logo.png"/></a></li>
    <li><a href="https://www.birdbraintechnologies.com" target="_blank"><img class="logo" src="birdbrain-logo.png"/></a></li>
    <li><a href="https://www.mozilla.org" target="_blank"><img class="logo" src="mozilla-logo.png"/></a></li>
</ul>
<p><span></span></p>
<p><span>We are actively looking for long term or short term funding. If you would like to make a donation or sponsor this project, please get in touch with us at <a href="mailto:interest@microblocks.fun">interest@microblocks.fun</a>.</span></p>
<h1 id="contact">Contact</h1>
<span><p>For bug reports or feature requests, please use our <a href="https://bitbucket.org/john_maloney/smallvm/issues">issue tracker at BitBucket</a>.</p></span>
<span><p>For anything else, you can reach us at <a href="mailto:interest@microblocks.fun">interest@microblocks.fun</a>.</p></span>
        </div>
        <footer>
            <a href="#"><i class="bunny"></i></a>
            <small>&copy; 2018 by <a href="https://harc.ycr.org/member/john_maloney/" target="_blank">John Maloney</a>, <a href="https://github.com/jmoenig" target="_blank">Jens Mönig</a> and <a href="http://romagosa.work" target="_blank">Bernat Romagosa</a>. MicroBlocks is free software, released under the <a href="https://www.mozilla.org/en-US/MPL/2.0/" target="_blank">Mozilla Public License v2.0</a>.</small>
            <img class="grass" src="grass.png"/>
        </footer>
        <script>
            var div = document.querySelector('#flowers'),
                index = 0,
                flowers = [];
            for (var i = 0; i < 100; i++) {
                var flower = document.createElement('img');
                flower.src = 'flower.png';
                flower.className = 'flower';
                flower.rotation = Math.random() * 90;
                flower.scale = Math.random();
                flower.style.transform = 'rotate(' + flower.rotation + 'deg) scale(' + flower.scale + ')';
                flower.style.left = Math.random() * document.body.scrollWidth;
                flower.style.top = Math.random() * document.body.scrollHeight * 1.2;
                div.append(flower);
                flowers.push(flower)
            }
            document.onscroll = function () {
                requestAnimationFrame(function () {
                    flowers.forEach(function (flower) {
                        flower.style.transform = 'rotate(' + flower.rotation * document.body.scrollTop * 0.05 + 'deg) scale(' + flower.scale + ')';
                    });
                    div.style.top = document.body.scrollTop * -1.2 + 'px';
                    index += 10;
                });
            };
        </script>
    </body>
<html>
